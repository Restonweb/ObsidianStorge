# 枚举
## 从外部枚举主机
这将是一个简短的部分，介绍如何查找从 Internet 响应的 IP。 在这种情况下，有一些 IP 范围（甚至可能是几个范围），只是为了找到哪些 IP 正在响应。
### ICMP
```sh
ping -c 1 199.66.11.4    # 1 echo request to a host
fping -g 199.66.11.0/24  # Send echo requests to ranges
nmap -PE -PM -PP -sn -n 199.66.11.0/24 #Send echo, timestamp requests and subnet mask requests
```
### 枚举TCP端口
发现所有类型的ICMP数据包都被过滤是很常见的。然后，要检查主机是否已启动，所能做的就是尝试查找打开的端口。每个主机有 65535 个端口，因此，如果有一个“大”范围，则无法测试每个主机的每个端口是否打开，这将花费太多时间。需要使用快速端口扫描仪（ masscan ）和更多使用的端口列表：
```sh
#Using masscan to scan top20ports of nmap in a /24 range (less than 5min)
masscan -p20,21-23,25,53,80,110,111,135,139,143,443,445,993,995,1723,3306,3389,5900,8080 199.66.11.0/24
```
也可以使用 `nmap` 执行此步骤，但它速度较慢，并且 `nmap` 无法识别有些主机。
### 枚举HTTP端口
专门扫HTTP服务时：
```sh
masscan -p80,443,8000-8100,8443 199.66.11.0/24
```
### 枚举UDP端口
